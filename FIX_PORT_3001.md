# Исправление ошибки "EADDRINUSE: address already in use :::3001"

## Проблема
Порт 3001 уже занят другим процессом. Нужно найти и остановить процесс, который использует этот порт.

## Решение 1: Найти и остановить процесс (рекомендуется)

```bash
# Найти процесс, использующий порт 3001
lsof -i :3001

# Или через netstat
netstat -tulpn | grep :3001

# Остановить процесс по PID (замените PID на реальный номер из вывода выше)
kill -9 PID

# Или остановить все процессы node, связанные с server-example.js
pkill -f "node server-example.js"

# Или использовать скрипт из package.json
npm run server:stop
```

## Решение 2: Перезапустить сервер

```bash
# Используйте скрипт для перезапуска
npm run server:restart
```

## Решение 3: Изменить порт сервера

Если нужно использовать другой порт:

```bash
# Запустить на другом порту (например, 3002)
PORT=3002 npm run server
```

Или измените переменную окружения в `.env`:
```
PORT=3002
```

## Решение 4: Использовать PM2 для управления процессом

```bash
# Установить PM2 (если еще не установлен)
npm install -g pm2

# Остановить все процессы PM2
pm2 stop all
pm2 delete all

# Запустить сервер через PM2
pm2 start server-example.js --name pixelstreaming-ws

# Проверить статус
pm2 status

# Просмотр логов
pm2 logs pixelstreaming-ws
```

## Быстрая проверка

После остановки процесса проверьте, что порт свободен:
```bash
lsof -i :3001
# Должно быть пусто или показать "command not found"
```

Затем запустите сервер:
```bash
npm run server
```

